(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),o=a.n(i),c=(a(92),a(93),a(143)),s=a(147),l=a(35),u=a.n(l),d=a(53),p=a(29),m=a(8),h=a(145),f=a(146),b=a(148),g=a(156),y=a(150),E=a(121),w=a(7),v=a(149),x=a(59),k=a.n(x),N=a(58),D=a.n(N),O=a(12),j=a(20),S=a.n(j),C=Object(c.a)((function(e){var t;return{root:{flexGrow:1},title:(t={flexGrow:1,display:"none"},Object(m.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(m.a)(t,"textAlign","left"),t),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(w.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(w.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("md"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:Object(m.a)({color:"inherit"},e.breakpoints.down("md"),{width:"55%"}),inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"".concat(e.spacing(4),"px"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch","&:focus":{width:"35ch"}}),whiteColor:{color:"#ffffff"}}})),L=Object(O.b)((function(e){return null}),(function(e){return{onSearch:function(t){return e((a=t,function(e){S.a.get("https://api.opencagedata.com/geocode/v1/json?key=cb5a7baa82d348b0a24d3d8db0f31a3f&q=".concat(a)).then((function(t){var n=t.data.results[0].geometry.lat,r=t.data.results[0].geometry.lng;e({type:"UPDATE_STORE",lat:n,lon:r,search:a,currCity:a})}))}));var a},onLocation:function(t,a){return e(function(e,t){return function(a){S.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"+").concat(t,"&key=cb5a7baa82d348b0a24d3d8db0f31a3f")).then((function(n){var r=n.data.results[0].components.city?n.data.results[0].components.city:n.data.results[0].components.state;a({type:"UPDATE_STORE",lat:e,lon:t,city:r,currCity:r})}))}}(t,a))},onUnitChange:function(t){return e({type:"UNITS_CHANGE",value:t})}}}))((function(e){var t=C(),a=Object(n.useState)(""),i=Object(p.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(0),m=Object(p.a)(l,2),w=m[0],x=m[1],N=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==w&&"search"===a.target.ariaLabel){t.next=4;break}return t.next=3,navigator.geolocation.getCurrentPosition((function(t){e.onLocation(t.coords.latitude,t.coords.longitude)}));case 3:x(w+1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(h.a,{position:"static",elevation:0,color:"transparent"},r.a.createElement(f.a,null,r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{container:!0,item:!0,sm:4},r.a.createElement(b.a,{className:t.title,variant:"h6",noWrap:!0},"WeatherApp")),r.a.createElement(s.a,{container:!0,item:!0,sm:5},r.a.createElement("div",{className:t.search},r.a.createElement(g.a,{placeholder:"Search\u2026",value:o,onChange:function(e){return c(e.target.value)},classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(t){return function(t){"Enter"===t.key&&e.onSearch(o)}(t)},onClick:N}),r.a.createElement("label",{htmlFor:"icon-button-location"},r.a.createElement(v.a,{className:t.whiteColor,"aria-label":"location",component:"span",onClick:function(e){return N(e)}},r.a.createElement(D.a,null))),r.a.createElement("label",{htmlFor:"icon-button-search"},r.a.createElement(v.a,{className:t.whiteColor,"aria-label":"search",component:"span",onClick:function(){return e.onSearch(o)}},r.a.createElement(k.a,null))))),r.a.createElement(s.a,{container:!0,item:!0,sm:3,justify:"flex-end"},r.a.createElement(y.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},r.a.createElement(E.a,{onClick:function(){return e.onUnitChange(!0)}},"\xb0","C"),r.a.createElement(E.a,{onClick:function(){return e.onUnitChange(!1)}},"\xb0","K"))))))})),T=a(60),_=a.n(T),A=a(61),z=a(62),I=a(80),R=a(79),W=a(151),M=a(153),P=a(152),F=a(63),H=a(157),B=a(37),U=a.n(B),q=a(38),G=a.n(q),K=Object(c.a)((function(e){return{root:Object(m.a)({maxWidth:400,flexGrow:1,background:"#fafafa2f"},e.breakpoints.down("sm"),{height:12})}})),J=Object(O.b)((function(e){return{isReset:e.isReset,dataLoaded:e.dataLoaded}}),(function(e){return{onDateIncrement:function(){return e({type:"DATE_INCREMENT"})},onDateDecrement:function(){return e({type:"DATE_DECREMENT"})}}}))((function(e){var t=K(),a=Object(F.a)(),n=r.a.useState(0),i=Object(p.a)(n,2),o=i[0],c=i[1];return r.a.createElement(H.a,{variant:"dots",steps:7,position:"static",activeStep:e.isReset?0:o,className:t.root,nextButton:r.a.createElement(E.a,{size:"small",onClick:function(){c((function(t){return e.isReset&&(t=0),t+1})),e.onDateIncrement()},disabled:e.dataLoaded?6===o:0===o},"Next","rtl"===a.direction?r.a.createElement(U.a,null):r.a.createElement(G.a,null)),backButton:r.a.createElement(E.a,{size:"small",onClick:function(){c((function(e){return e-1})),e.onDateDecrement()},disabled:0===o||e.isReset},"rtl"===a.direction?r.a.createElement(G.a,null):r.a.createElement(U.a,null),"Back")})})),X=Object(c.a)((function(e){var t;return{size:(t={fontSize:"94px"},Object(m.a)(t,e.breakpoints.down("lg"),{fontSize:"65px"}),Object(m.a)(t,e.breakpoints.down("md"),{fontSize:"50px"}),Object(m.a)(t,e.breakpoints.down("xs"),{fontSize:"25px"}),t)}})),V=Object(O.b)((function(e){return{date:e.date}}))((function(e){var t=X();return r.a.createElement(b.a,{className:t.size},e.date)})),$=a(154),Q=a(64),Y=a.n(Q),Z=a(65),ee=a.n(Z),te=a(66),ae=a.n(te),ne=a(67),re=a.n(ne),ie=a(68),oe=a.n(ie),ce=a(69),se=a.n(ce),le=a(70),ue=a.n(le),de=a(71),pe=a.n(de),me=a(72),he=a.n(me),fe=a(73),be=a.n(fe),ge=a(74),ye=a.n(ge),Ee=a(75),we=a.n(Ee),ve=a(76),xe=a.n(ve),ke=Object(c.a)((function(e){var t;return{root:{minWidth:50,flex:1,backgroundColor:"transparent"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:Object(m.a)({fontSize:30},e.breakpoints.down("md"),{fontSize:20}),pos:{marginBottom:12},capitalize:(t={textTransform:"capitalize",fontSize:"50px"},Object(m.a)(t,e.breakpoints.down("md"),{fontSize:"30px"}),Object(m.a)(t,e.breakpoints.down("xs"),{fontSize:"20px"}),t),bg:{backgroundColor:"rgba(0,0,0, 0.3)",backdropFilter:"blur(10px)",alignItems:"center"},icons:Object(m.a)({height:70,objectFit:"contain"},e.breakpoints.down("md"),{height:50}),subs:Object(m.a)({fontSize:"16px"},e.breakpoints.down("md"),{fontSize:"12px"})}})),Ne=Object(O.b)((function(e){return{dataLoaded:e.dataLoaded,lat:e.latitude,lon:e.longitude,currentCity:e.currentCity}}))((function(e){var t=ke(),a="C",n="k/h";e.isMetric||(a="K",n="m/h");var i=null;return i="Clear"!==e.weatherType||e.isNight?"Clear"===e.weatherType&&e.isNight?ae.a:"Clouds"!==e.weatherType||e.isNight||"few clouds"!==e.weatherDescription?"Clouds"===e.weatherType&&e.isNight&&"few clouds"===e.weatherDescription?oe.a:"Clouds"!==e.weatherType||"scattered clouds"!==e.weatherDescription&&"broken clouds"!==e.weatherDescription&&"overcast clouds"!==e.weatherDescription?"Thunderstorm"===e.weatherType?se.a:"Drizzle"===e.weatherType?ue.a:"\tRain"===e.weatherType?pe.a:"Snow"===e.weatherType?he.a:be.a:Y.a:re.a:ee.a,e.dataLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,item:!0,xs:12,sm:12,md:4,lg:4,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(b.a,{color:"textPrimary",className:t.capitalize},e.currentCity,"'s Weather")))),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{container:!0,item:!0,xs:12,sm:12,md:4,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(s.a,{container:!0,item:!0,xs:12,justify:"center"},r.a.createElement(V,null)),r.a.createElement(s.a,{container:!0,item:!0,xs:12,justify:"center"},r.a.createElement(J,null))))),r.a.createElement(s.a,{container:!0,item:!0,xs:6,sm:6,md:2,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(M.a,{image:i,title:e.weatherDescription,className:t.icons,component:"img"}),r.a.createElement(b.a,{className:t.title,color:"textPrimary",gutterBottom:!0},e.temperature,"\xb0",a),r.a.createElement(b.a,{className:t.subs},"Feels like ",e.feelsLike,"\xb0",a)))),r.a.createElement(s.a,{container:!0,item:!0,xs:6,sm:6,md:2,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(M.a,{image:ye.a,title:"Humidity",className:t.icons,component:"img"}),r.a.createElement(b.a,{className:t.title,color:"textPrimary",gutterBottom:!0},e.humidity,"%"),r.a.createElement(b.a,{className:t.subs},"Humidity")))),r.a.createElement(s.a,{container:!0,item:!0,xs:6,sm:6,md:2,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(M.a,{image:we.a,title:"Wind",className:t.icons,component:"img"}),r.a.createElement(b.a,{className:t.title,color:"textPrimary",gutterBottom:!0},e.windSpeed,n),r.a.createElement(b.a,{className:t.subs},"Wind")))),r.a.createElement(s.a,{container:!0,item:!0,xs:6,sm:6,md:2,className:t.bg},r.a.createElement(W.a,{className:t.root,square:!0,elevation:0},r.a.createElement(P.a,null,r.a.createElement(M.a,{image:xe.a,title:"Pressure",className:t.icons,component:"img"}),r.a.createElement(b.a,{className:t.title,color:"textPrimary",gutterBottom:!0},e.pressure,"hPa"),r.a.createElement(b.a,{className:t.subs},"Pressure")))))):r.a.createElement($.a,{animation:"wave",height:150,width:"100%"})})),De=a(15),Oe=a.n(De),je=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dailyWeather:[],date:null,temperature:null,feelsLike:null,humidity:null,windSpeed:null,windDegree:null,pressure:null,weatherType:null,weatherDescription:null,isMetric:!0,isForecast:!1,inputSearch:null,inputLat:null,inputLon:null},e}return Object(z.a)(a,[{key:"stateLoaderHandler",value:function(e,t,a,n){var r=this,i=this.props.metric?"metric":"imperial";S.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&appid=1ee8a98a2077ca34d3b117fa0e9dc2f9&exclude=hourly&units=").concat(i)).then((function(n){var i=n.data.daily;r.setState({inputSearch:e,inputLat:t,inputLon:a,isForecast:!1,isMetric:r.props.metric,dailyWeather:i,date:r.convertDate(n.data.current.dt),temperature:Math.round(n.data.current.temp),feelsLike:Math.round(n.data.current.feels_like),humidity:n.data.current.humidity,windSpeed:r.props.metric?r.msTokmh(n.data.current.wind_speed):n.data.current.wind_speed,windDegree:r.degToCompass(n.data.current.wind_deg),pressure:n.data.current.pressure,weatherType:n.data.current.weather[0].main,weatherDescription:n.data.current.weather[0].description}),r.props.onDataLoad()}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.search&&this.state.inputSearch!==this.props.search&&this.stateLoaderHandler(this.props.search,this.props.lat,this.props.lon,this.props.date),this.props.lat&&this.props.lon&&this.state.inputLat!==this.props.lat&&this.state.inputLon!==this.props.lon&&this.stateLoaderHandler(this.props.search,this.props.lat,this.props.lon,this.props.date),this.props.metric!==this.state.isMetric&&this.stateLoaderHandler(this.props.search,this.props.lat,this.props.lon,this.props.date),0!==this.props.currDay&&this.props.date!==this.state.date){var a=this.state.dailyWeather[this.props.currDay];this.setState({isMetric:this.props.metric,isForecast:!0,date:this.convertDate(a.dt),temperature:Math.round((a.temp.max+a.temp.max)/2),feelsLike:Math.round((a.feels_like.day+a.feels_like.day)/2),humidity:a.humidity,windSpeed:this.props.metric?this.msTokmh(a.wind_speed):a.wind_speed,windDegree:this.degToCompass(a.wind_deg),pressure:a.pressure,weatherType:a.weather[0].main,weatherDescription:a.weather[0].description})}t.isForecast&&0===this.props.currDay&&this.stateLoaderHandler(this.props.search,this.props.lat,this.props.lon,this.props.date)}},{key:"convertDate",value:function(e){var t=new Date(1e3*e);return Oe()(t).format("LL")}},{key:"degToCompass",value:function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(e/22.5+.5)%16]}},{key:"msTokmh",value:function(e){return(3.6*e).toFixed(1)}},{key:"isNight",value:function(){var e=(new Date).getHours();return e>19&&e<6}},{key:"render",value:function(){return this.isNight(),r.a.createElement(Ne,{temperature:this.state.temperature,feelsLike:this.state.feelsLike,humidity:this.state.humidity,windSpeed:this.state.windSpeed,windDegree:this.state.windDegree,pressure:this.state.pressure,weatherType:this.state.weatherType,weatherDescription:this.state.weatherDescription,isMetric:this.state.isMetric,isForecast:this.state.isForecast,isNight:this.isNight()})}}]),a}(n.Component),Se=Object(O.b)((function(e){return{search:e.search,lat:e.latitude,lon:e.longitude,date:e.date,metric:e.metric,currDay:e.currentDayArrayIndex}}),(function(e){return{onDataLoad:function(){return e({type:"DATA_LOADED"})}}}))(je),Ce=a(82),Le=Object(c.a)((function(e){return{backgroundImage:{backgroundImage:"url(".concat(_.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},fullHeight:{height:"100vh"},mainContent:{position:"absolute",bottom:0,left:0},padding:{padding:"5px"}}})),Te=function(e){var t=Le();return r.a.createElement(Ce.a,{square:!0,className:[t.backgroundImage,t.fullHeight].join(" ")},r.a.createElement(s.a,{container:!0,direction:"column",className:t.padding},r.a.createElement(s.a,{container:!0,item:!0,xs:12},r.a.createElement(L,null)),r.a.createElement(s.a,{container:!0,item:!0,xs:12,className:t.mainContent},r.a.createElement(Se,null))))};var _e=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=a(155),ze=a(78),Ie=Object(ze.a)({palette:{text:{primary:"#ffffff"}}}),Re=a(77),We=a(22),Me=a(13),Pe={search:null,city:null,latitude:null,longitude:null,date:Oe()(new Date).format("LL"),metric:!0,currentDayArrayIndex:0,dataLoaded:!1,isReset:!0,currentCity:null},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_STORE"===t.type)return Object(Me.a)(Object(Me.a)({},e),{},{search:t.search?t.search:e.search?e.search:null,city:t.city?t.city:e.city?e.city:null,latitude:t.lat,longitude:t.lon,date:Oe()(new Date).format("LL"),isReset:!0,currentDayArrayIndex:0,currentCity:t.currCity});if("UNITS_CHANGE"===t.type)return Object(Me.a)(Object(Me.a)({},e),{},{metric:t.value});if("DATE_INCREMENT"===t.type){var a=Oe()(e.date).format(),n=e.currentDayArrayIndex+1;return Object(Me.a)(Object(Me.a)({},e),{},{date:Oe()(a).add(1,"days").format("LL"),currentDayArrayIndex:n,isReset:!1})}if("DATE_DECREMENT"===t.type){var r=Oe()(e.date).format(),i=e.currentDayArrayIndex-1,o=!i;return Object(Me.a)(Object(Me.a)({},e),{},{date:Oe()(r).subtract(1,"days").format("LL"),currentDayArrayIndex:i,isReset:o})}return"DATA_LOADED"===t.type?Object(Me.a)(Object(Me.a)({},e),{},{dataLoaded:!0}):e},He=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.c,Be=Object(We.d)(Fe,He(Object(We.a)(Re.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:Be},r.a.createElement(Ae.a,{theme:Ie},r.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports=a.p+"static/media/mt.72345933.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},65:function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},66:function(e,t,a){e.exports=a.p+"static/media/night.a3f3f38d.svg"},67:function(e,t,a){e.exports=a.p+"static/media/cloudyDay.b931d84d.svg"},68:function(e,t,a){e.exports=a.p+"static/media/cloudyNight.ef1c6aa1.svg"},69:function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},70:function(e,t,a){e.exports=a.p+"static/media/drizzle.c8cdb216.svg"},71:function(e,t,a){e.exports=a.p+"static/media/rainy.d235ab65.svg"},72:function(e,t,a){e.exports=a.p+"static/media/snowy.3def7c9f.svg"},73:function(e,t,a){e.exports=a.p+"static/media/haze.ca32cb42.png"},74:function(e,t,a){e.exports=a.p+"static/media/humidity.5a3d9858.svg"},75:function(e,t,a){e.exports=a.p+"static/media/wind.3ce03e2b.svg"},76:function(e,t,a){e.exports=a.p+"static/media/air.969aeeab.svg"},87:function(e,t,a){e.exports=a(119)},92:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.6552d8cb.chunk.js.map